(this["webpackJsonpmy-flat"]=this["webpackJsonpmy-flat"]||[]).push([[0],{192:function(e,t,a){"use strict";var n=a(259);a.d(t,"default",(function(){return n.a}));var l=a(260);a.o(l,"selectIsAuthenticated")&&a.d(t,"selectIsAuthenticated",(function(){return l.selectIsAuthenticated}));var r=a(261);a.o(r,"selectIsAuthenticated")&&a.d(t,"selectIsAuthenticated",(function(){return r.selectIsAuthenticated}));var c=a(337);a.d(t,"selectIsAuthenticated",(function(){return c.a}))},244:function(e,t,a){e.exports=a.p+"static/media/flat.dfb6eae2.jpg"},259:function(e,t,a){"use strict";var n=a(193),l=a.n(n),r=a(118),c={accessToken:null,isAuthenticated:!0};t.a=Object(r.a)({blacklist:[],key:"authentication",storage:l.a,version:1},(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;t.payload,t.type;return e}))},260:function(e,t){},261:function(e,t){},334:function(e,t,a){"use strict";var n=a(193),l=a.n(n),r=a(118),c={language:"EN"};t.a=Object(r.a)({blacklist:[],key:"config",storage:l.a,version:1},(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;t.payload,t.type;return e}))},335:function(e,t){},336:function(e,t){},337:function(e,t,a){"use strict";function n(e){return e&&e.authentication&&e.authentication.isAuthenticated}a.d(t,"a",(function(){return n}))},366:function(e,t,a){e.exports=a.p+"static/media/logo.30e447f2.png"},367:function(e,t){},370:function(e,t,a){"use strict";var n=a(334);a.d(t,"default",(function(){return n.a}));a(335),a(336)},386:function(e,t,a){e.exports=a(617)},391:function(e,t,a){},396:function(e,t,a){},486:function(e,t,a){},487:function(e,t,a){},488:function(e,t,a){},490:function(e,t,a){},491:function(e,t,a){},493:function(e,t,a){},494:function(e,t,a){},495:function(e,t,a){},496:function(e,t,a){},497:function(e,t,a){},498:function(e,t,a){},499:function(e,t,a){},610:function(e,t,a){},611:function(e,t,a){},612:function(e,t,a){},613:function(e,t,a){},614:function(e,t,a){e.exports=a.p+"static/media/rentOutRoom.c1b5f7b0.jpg"},615:function(e,t,a){e.exports=a.p+"static/media/findRoom.06ef1174.jpg"},616:function(e,t,a){},617:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(67),c=a.n(r),o=(a(391),a(22)),s=a(23),i=a(24),u=a(25),m=a(26),p=a(199),d=a(192),h=a(30),f=a(87),v=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("h1",null,"About page")}}]),t}(n.PureComponent),E=a(37),b=a(660),g=a(116);a(396);function C(e){return l.a.createElement("div",{id:"add-comment-form"},l.a.createElement("h3",null,"Add a Comment"),l.a.createElement(b.a.Group,null,l.a.createElement(b.a.Field,null,l.a.createElement("label",null,"User"),l.a.createElement(b.a.Input,{placeholder:"User name",onChange:e.handleChange("commentUser"),value:e.user})),l.a.createElement(b.a.Field,null,l.a.createElement("label",null,"Comment"),l.a.createElement(b.a.TextArea,{placeholder:"Comment text",onChange:e.handleChange("commentText"),value:e.text}))),l.a.createElement(g.a,{id:"add-comment-btn",onClick:e.handleSubmit},"Add Comment"))}var y=a(56),k=a(196),j=a(250);a(486);function O(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("h3",{className:"heading"},"Allowed"),l.a.createElement("div",{className:"inline"},e.smoking?l.a.createElement("span",null,l.a.createElement(k.a,{icon:j.b,size:"lg"}),"Smoking Allowed"):l.a.createElement("span",null,l.a.createElement(y.a,{fitted:!0,name:"dont",size:"big",className:"no-left-padding"}),"Smoking not allowed"),e.pet?l.a.createElement("span",null,l.a.createElement(k.a,{icon:j.a,size:"lg"}),"Pet Allowed"):l.a.createElement("span",null," ",l.a.createElement(y.a,{fitted:!0,name:"dont",size:"big",className:"no-left-padding"}),"Pet not allowed")))}a(487);function w(e){return l.a.createElement(l.a.Fragment,null," ",l.a.createElement("h3",{className:"heading"},"Availability"),l.a.createElement("p",null,l.a.createElement(y.a,{fitted:!0,name:"calendar alternate outline",size:"big"}),"Available from ",e.availability," with minimal stay ",e.stay," months"))}a(488);function F(e){var t=e.cards;return console.log("card list",t),l.a.createElement("div",{className:"grid"},t&&t.map(x))}function x(e,t){return console.log(e),l.a.createElement("div",{className:"container",key:t},l.a.createElement(h.b,{to:"/cards/".concat(e._id)},l.a.createElement("h3",null,e.title),l.a.createElement("img",{src:a(244),className:"card-image",alt:"flat"}),l.a.createElement("h3",null,l.a.createElement("span",{className:"price"}," ",e.price.value," ",e.price.currency,"/month")),l.a.createElement("p",null,e.street,", ",e.district)))}a(490);a(491);function S(e){var t=Array.from(e.commentsList);return console.log("COMMENTS:",t),0==t.length?l.a.createElement("h3",{className:"comments-heading"},"No Comments"):l.a.createElement(l.a.Fragment,null,l.a.createElement("h3",{className:"comments-heading"},"Comments:"),t.map((function(e,t){return l.a.createElement("div",{className:"comment",key:t},l.a.createElement("h4",null,e.user),l.a.createElement("p",null,e.text))})))}var A=a(18),N=a.n(A),I=a(661),M=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).saveAndContinue=function(e){return N.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault(),a.props.nextStep();case 2:case"end":return t.stop()}}))},a.back=function(e){e.preventDefault(),a.props.prevStep()},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.values,t=e.district,a=e.street,n=e.price,r=e.availabilityDate,c=e.minStay,o=e.flatmatesMale,s=e.flatmatesFemale,i=e.prefFlatmatesMale,u=e.prefFlatmatesFemale,m=e.prefFlatmatesCouple,p=e.petAllowed,d=e.smokingAllowed;return console.log("props: ",this.props),l.a.createElement("div",null,l.a.createElement("h1",null,"Check all the details"),l.a.createElement("p",null,"Confirm if all details below are correct"),l.a.createElement(I.a,null,l.a.createElement(I.a.Item,null,l.a.createElement(I.a.Content,null,"District: ",t)),l.a.createElement(I.a.Item,null,l.a.createElement(I.a.Content,null,"Street: ",a)),l.a.createElement(I.a.Item,null,l.a.createElement(I.a.Content,null,"Male Flatmates: ",o)),l.a.createElement(I.a.Item,null,l.a.createElement(I.a.Content,null,"Female Flatmates: ",s)),l.a.createElement(I.a.Item,null,l.a.createElement(I.a.Content,null,"Preferred Male Flatmates: ",i?"Yes":"No")),l.a.createElement(I.a.Item,null,l.a.createElement(I.a.Content,null,"Preferred Female Flatmates: ",u?"Yes":"No")),l.a.createElement(I.a.Item,null,l.a.createElement(I.a.Content,null,"Preferred Couple Flatmates: ",m?"Yes":"No")),l.a.createElement(I.a.Item,null,l.a.createElement(I.a.Content,null,"Pet Allowed: ",p?"Yes":"No")),l.a.createElement(I.a.Item,null,l.a.createElement(I.a.Content,null,"Smoking Allowed: ",d?"Yes":"No")),l.a.createElement(I.a.Item,null,l.a.createElement(I.a.Content,null,"Price: ",n)),l.a.createElement(I.a.Item,null,l.a.createElement(I.a.Content,null,"Minimal stay: ",c)),l.a.createElement(I.a.Item,null,l.a.createElement(I.a.Content,null,"AvailabilityDate: ",r))),l.a.createElement(g.a,{onClick:this.back},"Back"),l.a.createElement(g.a,{onClick:this.saveAndContinue},"Confirm"))}}]),t}(n.PureComponent),P=a(621);a(29),a(197),a(198);a(493);var D=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).saveAndContinue=function(e){e.preventDefault();""===a.props.values.street&&console.log(!0),a.props.nextStep()},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.values;return console.log(e.streetError),l.a.createElement(b.a,null,l.a.createElement("h1",null,"Enter Flat Details"),l.a.createElement(b.a.Group,null,l.a.createElement(b.a.Field,{label:"City District",control:"select",onChange:this.props.handleChange("district"),defaultValue:e.district},l.a.createElement("option",{value:"Stare Mesto"},"Stare Mesto"),l.a.createElement("option",{value:"Ruzinov"},"Ruzinov"),l.a.createElement("option",{value:"Vrakuna"},"Vrakuna"),l.a.createElement("option",{value:"Podunajske Biskupice"},"Podunajske Biskupice"),l.a.createElement("option",{value:"Nove Mesto"},"Nove Mesto"),l.a.createElement("option",{value:"Raca"},"Raca"),l.a.createElement("option",{value:"Vajnory"},"Vajnory"),l.a.createElement("option",{value:"Karlova Ves"},"Karlova Ves"),l.a.createElement("option",{value:"Dubravka"},"Dubravka"),l.a.createElement("option",{value:"Lamac"},"Lamac"),l.a.createElement("option",{value:"Devinska Nova Ves"},"Devinska Nova Ves")),l.a.createElement(b.a.Field,null,l.a.createElement("label",null,"Street"),l.a.createElement(b.a.Input,{placeholder:"Street name",onChange:this.props.handleChange("street"),defaultValue:e.street})),l.a.createElement(b.a.Field,null,l.a.createElement("label",null,"Title"),l.a.createElement(b.a.Input,{placeholder:"Title",onChange:this.props.handleChange("title"),defaultValue:e.title}))),l.a.createElement(g.a,{onClick:this.saveAndContinue},"Save and Continue"))}}]),t}(n.PureComponent),T=(a(494),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).saveAndContinue=function(e){e.preventDefault(),a.props.nextStep()},a.back=function(e){e.preventDefault(),a.props.prevStep()},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.values;return l.a.createElement(b.a,null,l.a.createElement("h1",{className:"ui centered"},"Enter Flatmate Details"),l.a.createElement(b.a.Group,null,l.a.createElement(b.a.Field,{label:"Number of men living in the flat",control:"select",onChange:this.props.handleChange("flatmatesMale"),defaultValue:e.flatmatesMale},l.a.createElement("option",{value:"0"},"0"),l.a.createElement("option",{value:"1"},"1"),l.a.createElement("option",{value:"2"},"2"),l.a.createElement("option",{value:"3"},"3"),l.a.createElement("option",{value:"4"},"4"),l.a.createElement("option",{value:"5"},"5"),l.a.createElement("option",{value:"6"},"6"),l.a.createElement("option",{value:"7"},"7")),l.a.createElement(b.a.Field,{label:"Number of women living in the flat",control:"select",onChange:this.props.handleChange("flatmatesFemale"),defaultValue:e.flatmatesFemale},l.a.createElement("option",{value:"0"},"0"),l.a.createElement("option",{value:"1"},"1"),l.a.createElement("option",{value:"2"},"2"),l.a.createElement("option",{value:"3"},"3"),l.a.createElement("option",{value:"4"},"4"),l.a.createElement("option",{value:"5"},"5"),l.a.createElement("option",{value:"6"},"6"),l.a.createElement("option",{value:"7"},"7"))),l.a.createElement(g.a,{onClick:this.back},"Back"),l.a.createElement(g.a,{onClick:this.saveAndContinue},"Save and Continue"))}}]),t}(n.PureComponent));a(495);function B(e){return l.a.createElement(l.a.Fragment,null," ",l.a.createElement("h3",{className:"heading"},"Flatmates"),l.a.createElement("p",null,l.a.createElement(y.a,{fitted:!0,name:"male",size:"big"}),e.male," males",l.a.createElement(y.a,{fitted:!0,name:"female",size:"big"}),e.female," females"))}a(496);function R(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("h3",{className:"heading"},"Location"),l.a.createElement("p",null,l.a.createElement(y.a,{fitted:!0,name:"map outline",size:"big"}),e.street,", ",e.district))}a(497);function V(e){return l.a.createElement("div",{id:"navBar",className:"overlay"},l.a.createElement("a",{className:"closeBtn",onClick:e.closeNav},"\xd7"),l.a.createElement("div",{className:"overlay-content"},l.a.createElement(h.b,{to:"/",onClick:e.closeNav},"Home"),l.a.createElement(h.b,{to:"/willBeAdded",onClick:e.closeNav},"Login"),l.a.createElement(h.b,{to:"/register",onClick:e.closeNav},"Register"),l.a.createElement(h.b,{to:"/addCard",onClick:e.closeNav},"Rent out a room"),l.a.createElement(h.b,{to:"/cards",onClick:e.closeNav},"Find a room"),l.a.createElement(h.b,{to:"/about",onClick:e.closeNav},"About us"),l.a.createElement(h.b,{to:"/willBeAdded",onClick:e.closeNav},"Contact")))}var L=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).saveAndContinue=function(e){e.preventDefault(),a.props.nextStep()},a.back=function(e){e.preventDefault(),a.props.prevStep()},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.values;return l.a.createElement(b.a,null,l.a.createElement("h1",{className:"ui centered"},"Preffered Flatmate Details"),l.a.createElement(b.a.Group,{inline:!0},l.a.createElement("label",null,"Who are you OK to live with?"),l.a.createElement(b.a.Field,{label:"Male",control:"input",type:"checkbox",onChange:this.props.handleChange("prefFlatmatesMale"),checked:e.prefFlatmatesMale}),l.a.createElement(b.a.Field,{label:"Female",control:"input",type:"checkbox",onChange:this.props.handleChange("prefFlatmatesFemale"),checked:e.prefFlatmatesFemale}),l.a.createElement(b.a.Field,{label:"Couple",control:"input",type:"checkbox",onChange:this.props.handleChange("prefFlatmatesCouple"),checked:e.prefFlatmatesCouple})),l.a.createElement(b.a.Group,{inline:!0},l.a.createElement("label",null,"What about pets and smokers?"),l.a.createElement(b.a.Field,{label:"Pet Allowed",control:"input",type:"checkbox",onChange:this.props.handleChange("petAllowed"),checked:e.petAllowed}),l.a.createElement(b.a.Field,{label:"Smoking Allowed",control:"input",type:"checkbox",onChange:this.props.handleChange("smokingAllowed"),checked:e.smokingAllowed})),l.a.createElement(g.a,{onClick:this.back},"Back"),l.a.createElement(g.a,{onClick:this.saveAndContinue},"Save and Continue"))}}]),t}(n.PureComponent);a(498);function U(e){console.log(e);var t=e.male,a=e.female,n=t?"Male":"",r=n&&(a?"Female":"");return l.a.createElement(l.a.Fragment,null,l.a.createElement("h3",{className:"heading"},"Preferred Flatmates"),l.a.createElement("p",null,l.a.createElement(y.a,{name:"mars",size:"big"}),l.a.createElement(y.a,{fitted:!0,name:"venus",size:"big",className:"no-left-padding"}),r?"Males or females":"Males only"))}a(499);function G(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("h3",{className:"heading"},"Price"),l.a.createElement("p",null,l.a.createElement(y.a,{fitted:!0,name:"euro",size:"big"}),e.price," ",e.currency,"/month"))}a(346);function z(e){return e.text().then((function(t){var a=t&&JSON.parse(t);if(!e.ok){-1!==[401,403].indexOf(e.status)&&Y.logout();var n=a&&a.message||e.statusText;return Promise.reject(n)}return a}))}var J=new(a(663).a)(JSON.parse(localStorage.getItem("currentUser"))),Y={registerUser:function(e){var t,a,n;return N.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},l.next=3,N.a.awrap(fetch("http://localhost:8080/users/registration",t));case 3:return a=l.sent,l.next=6,N.a.awrap(a.json());case 6:return n=l.sent,l.abrupt("return",n);case 8:case"end":return l.stop()}}))},login:function(e,t){var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})};return fetch("http://localhost:8080/cards/users/authenticate",a).then(z).then((function(e){return localStorage.setItem("currentUser",JSON.stringify(e)),J.next(e),e}))},logout:function(){localStorage.removeItem("currentUser"),J.next(null)},currentUser:J.asObservable(),get currentUserValue(){return J.value}};var H=a(662);function K(e){return l.a.createElement(H.a,{percent:e.percent,indicating:!0})}var W=a(245),_=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).saveAndContinue=function(e){e.preventDefault(),a.props.nextStep()},a.back=function(e){e.preventDefault(),a.props.prevStep()},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.values;return l.a.createElement(b.a,null,l.a.createElement("h1",{className:"ui centered"},"Enter Rent Details"),l.a.createElement(b.a.Field,null,l.a.createElement("label",null,"Price"),l.a.createElement(b.a.Input,{type:"number",placeholder:"300 EUR",onChange:this.props.handleChange("price"),defaultValue:e.price})),l.a.createElement(b.a.Field,null,l.a.createElement("label",null,"Minimal duration of rent in months"),l.a.createElement(b.a.Input,{type:"number",placeholder:"5 months",onChange:this.props.handleChange("minStay"),defaultValue:e.minStay})),l.a.createElement(b.a.Field,null,l.a.createElement("label",null,"Available from"),l.a.createElement(W.DateInput,{clearable:!0,clearIcon:l.a.createElement(y.a,{name:"remove",color:"red"}),name:"availabilityDate",value:e.availabilityDate,onChange:this.props.handleDate("availabilityDate")})),l.a.createElement(g.a,{onClick:this.back},"Back"),l.a.createElement(g.a,{onClick:this.saveAndContinue},"Save and Continue"))}}]),t}(n.PureComponent),$=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(b.a,null,l.a.createElement("h1",null,"Registration"),l.a.createElement(b.a.Group,null,l.a.createElement(b.a.Field,null,l.a.createElement("label",null,"Email"),l.a.createElement(b.a.Input,{placeholder:"john.smith@email.com",onChange:this.props.handleChange("email")})),l.a.createElement(b.a.Field,null,l.a.createElement("label",null,"Password"),l.a.createElement(b.a.Input,{type:"password",placeholder:"Super secret password",onChange:this.props.handleChange("password")}))),l.a.createElement(g.a,{onClick:this.props.handleSubmit},"Submit"))}}]),t}(n.PureComponent),q=a(79),Q=a(34),X={getAll:function(){var e,t,a;return N.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e={method:"GET",headers:{"Content-Type":"application/json"}},n.next=3,N.a.awrap(fetch("http://localhost:8080/cards",e));case 3:return t=n.sent,n.next=6,N.a.awrap(t.json());case 6:return a=n.sent,console.log("data: ",a),n.abrupt("return",a);case 9:case"end":return n.stop()}}))},getById:function(e){var t,a,n;return N.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return t={method:"GET",headers:{"Content-Type":"application/json"}},l.next=3,N.a.awrap(fetch("http://localhost:8080/cards/".concat(e),t));case 3:return a=l.sent,l.next=6,N.a.awrap(a.json());case 6:return n=l.sent,console.log("data: ",n),l.abrupt("return",n);case 9:case"end":return l.stop()}}))},saveCard:function(e){var t,a,n;return N.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return console.log(e),t={method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}},l.next=4,N.a.awrap(fetch("http://localhost:8080/cards",t));case 4:return a=l.sent,l.next=7,N.a.awrap(a.json());case 7:return n=l.sent,l.abrupt("return",n);case 9:case"end":return l.stop()}}))},upvoteCard:function(e){var t,a,n;return N.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return t={method:"POST",headers:{"Content-Type":"application/json"}},console.log("here"),l.next=4,N.a.awrap(fetch("http://localhost:8080/cards/".concat(e,"/upvote"),t));case 4:return a=l.sent,l.next=7,N.a.awrap(a.json());case 7:return n=l.sent,console.log("new upvotes: ",n),l.abrupt("return",n);case 10:case"end":return l.stop()}}))}};var Z=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).returnToHome=a.returnToHome.bind(Object(Q.a)(a)),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e,t,a;return N.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=this.props.values,t={price:{value:e.price,currency:"EUR"}},a=Object(q.a)({},e,{},t),n.next=5,N.a.awrap(X.saveCard(a));case 5:n.sent;case 6:case"end":return n.stop()}}),null,this)}},{key:"returnToHome",value:function(){this.props.history.push("/")}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h1",{className:"ui centered"},"Room to rent successfully saved"),l.a.createElement("button",null,l.a.createElement(h.b,{to:"/"},"Go Back Home")))}}]),t}(n.PureComponent),ee=(a(610),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={step:1,district:"Stare Mesto",street:"",title:"",streetError:!0,price:"",availabilityDate:"",minStay:"",flatmatesMale:0,flatmatesFemale:0,prefFlatmatesMale:!1,prefFlatmatesFemale:!1,prefFlatmatesCouple:!1,smokingAllowed:!1,petAllowed:!1,percent:0},a.nextStep=function(){var e=a.state,t=e.step,n=e.percent;a.setState({step:t+1,percent:n+25})},a.prevStep=function(){var e=a.state,t=e.step,n=e.percent;a.setState({step:t-1,percent:n-25})},a.handleChange=function(e){return function(t){a.setState(Object(E.a)({},e,t.target.value))}},a.handleChecked=function(e){return function(t){a.setState(Object(E.a)({},e,t.target.checked))}},a.handleDate=function(e){return function(e,t){var n=t.name,l=t.value;a.state.hasOwnProperty(n)&&a.setState(Object(E.a)({},n,l))}},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.step,t=this.state,a=t.district,n=t.street,r=t.title,c=t.price,o=t.availabilityDate,s=t.minStay,i=t.flatmatesMale,u=t.flatmatesFemale,m=t.prefFlatmatesMale,p=t.prefFlatmatesFemale,d=t.percent,h={district:a,street:n,title:r,price:c,availabilityDate:o,minStay:s,flatmatesMale:i,flatmatesFemale:u,prefFlatmatesMale:m,prefFlatmatesFemale:p,streetError:t.streetError,prefFlatmatesCouple:t.prefFlatmatesCouple,smokingAllowed:t.smokingAllowed,petAllowed:t.petAllowed};switch(e){case 1:return l.a.createElement(l.a.Fragment,null,l.a.createElement(D,{nextStep:this.nextStep,handleChange:this.handleChange,values:h}),l.a.createElement(K,{percent:d}));case 2:return l.a.createElement(l.a.Fragment,null,l.a.createElement(T,{nextStep:this.nextStep,prevStep:this.prevStep,handleChange:this.handleChange,values:h}),l.a.createElement(K,{percent:d}));case 3:return l.a.createElement(l.a.Fragment,null,l.a.createElement(L,{nextStep:this.nextStep,prevStep:this.prevStep,handleChange:this.handleChecked,values:h}),l.a.createElement(K,{percent:d}));case 4:return l.a.createElement(l.a.Fragment,null,l.a.createElement(_,{nextStep:this.nextStep,prevStep:this.prevStep,handleChange:this.handleChange,handleDate:this.handleDate,values:h}),l.a.createElement(K,{percent:d}));case 5:return l.a.createElement(l.a.Fragment,null,l.a.createElement(M,{nextStep:this.nextStep,prevStep:this.prevStep,values:h}),l.a.createElement(K,{percent:d}));case 6:return l.a.createElement(Z,{values:h})}}}]),t}(n.PureComponent)),te={getAllCommentsByCardId:function(e){var t,a,n;return N.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return t={method:"GET",headers:{"Content-Type":"application/json"}},l.next=3,N.a.awrap(fetch("http://localhost:8080/comments/".concat(e),t));case 3:return a=l.sent,l.next=6,N.a.awrap(a.json());case 6:return n=l.sent,console.log("data from get all: ",n),l.abrupt("return",n);case 9:case"end":return l.stop()}}))},saveComment:function(e){var t,a,n;return N.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return t={method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}},l.next=3,N.a.awrap(fetch("http://localhost:8080/comments/".concat(e.cardId),t));case 3:return a=l.sent,console.log("response: ",a),l.next=7,N.a.awrap(a.json());case 7:return n=l.sent,l.abrupt("return",n);case 9:case"end":return l.stop()}}))}};var ae=a(244),ne=a.n(ae),le=(a(611),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleCommentChange=function(e){return function(t){a.setState(Object(E.a)({},e,t.target.value))}},a.handleCommentFormSubmit=function(e){var t,n;return N.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return e.preventDefault(),t={cardId:a.state.card._id,user:a.state.commentUser,text:a.state.commentText},l.next=4,N.a.awrap(te.saveComment(t));case 4:return l.next=6,N.a.awrap(te.getAllCommentsByCardId(a.state.currentCardId));case 6:n=l.sent,a.setState({comments:n});case 8:case"end":return l.stop()}}))},a.state={currentCardId:e.match.params.cardId,card:{},comments:[],commentText:"",commentUser:""},a.returnToCardList=a.returnToCardList.bind(Object(Q.a)(a)),a.upvoteCard=a.upvoteCard.bind(Object(Q.a)(a)),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e,t;return N.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,N.a.awrap(X.getById(this.state.currentCardId));case 2:return e=a.sent,a.next=5,N.a.awrap(te.getAllCommentsByCardId(this.state.currentCardId));case 5:t=a.sent,this.setState({card:e,comments:t});case 7:case"end":return a.stop()}}),null,this)}},{key:"returnToCardList",value:function(){this.props.history.push("/cards")}},{key:"upvoteCard",value:function(){var e;return N.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.a.awrap(X.upvoteCard(this.state.currentCardId));case 2:e=t.sent,this.setState({card:e});case 4:case"end":return t.stop()}}),null,this)}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",{className:"title"},this.state.card.title),l.a.createElement("div",{className:"card-menu-center"},l.a.createElement("button",{id:"back-button",onClick:this.returnToCardList},"GO BACK TO THE LIST")),l.a.createElement("div",{className:"card-menu-right"},l.a.createElement("button",{id:"upvote",onClick:this.upvoteCard},l.a.createElement(y.a,{fitted:!0,name:"thumbs up outline",size:"big"})),l.a.createElement("span",{className:"upvote-number"},"Number of Upvotes: ",this.state.card.upvotes)),l.a.createElement("div",{className:"card-grid"},l.a.createElement("img",{src:ne.a,className:"card-image-detail",alt:"flat"}),l.a.createElement("div",{className:"desc-container"},this.state.card.price&&l.a.createElement(G,{price:this.state.card.price.value,currency:this.state.card.price.currency}),l.a.createElement(R,{street:this.state.card.street,district:this.state.card.district}),this.state.card&&l.a.createElement(B,{male:this.state.card.flatmatesMale,female:this.state.card.flatmatesFemale}),this.state.card&&l.a.createElement(U,{male:this.state.card.prefFlatmatesMale,female:this.state.card.prefFlatmatesFemale,couple:this.state.card.prefFlatmatesCouple}),l.a.createElement(w,{availability:this.state.card.availabilityDate,stay:this.state.card.minStay}),l.a.createElement(O,{smoking:this.state.card.smokingAllowed,pet:this.state.card.petAllowed}))),l.a.createElement(S,{commentsList:this.state.comments}),l.a.createElement(C,{handleChange:this.handleCommentChange,handleSubmit:this.handleCommentFormSubmit,cardId:this.state.card._id,user:this.state.commentUser,text:this.state.commentText}))}}]),t}(n.PureComponent)),re=a(371),ce=(a(612),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={cards:[],filteredCards:[],filter:{district:null,gender:null,maxFlatmates:null,maxPrice:null,petAllowed:!1,smokingAllowed:!1}},a.resetFilters=a.resetFilters.bind(Object(Q.a)(a)),a.updateCards=a.updateCards.bind(Object(Q.a)(a)),a.updateDistrict=a.updateDistrict.bind(Object(Q.a)(a)),a.updateGender=a.updateGender.bind(Object(Q.a)(a)),a.updateMaxFlatmates=a.updateMaxFlatmates.bind(Object(Q.a)(a)),a.updateMaxPrice=a.updateMaxPrice.bind(Object(Q.a)(a)),a.updatePetAllowed=a.updatePetAllowed.bind(Object(Q.a)(a)),a.updateSmokingAllowed=a.updateSmokingAllowed.bind(Object(Q.a)(a)),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e;return N.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.a.awrap(X.getAll());case 2:e=t.sent,console.log("data in flat list: ",e),this.setState({cards:e,filteredCards:e});case 5:case"end":return t.stop()}}),null,this)}},{key:"updateCards",value:function(){var e=this;this.setState({filteredCards:Object(re.a)(this.state.cards.filter((function(t){return!e.state.filter.district||t.district===e.state.filter.district})).filter((function(t){return!e.state.filter.gender||t.prefFlatmatesMale&&"male"===e.state.filter.gender||t.prefFlatmatesFemale&&"female"===e.state.filter.gender||t.prefFlatmatesCouple&&"couple"===e.state.filter.gender})).filter((function(t){return!e.state.filter.maxFlatmates||t.flatmatesMale+t.flatmatesFemale<=e.state.filter.maxFlatmates})).filter((function(t){return!e.state.filter.maxPrice||t.price.value<=e.state.filter.maxPrice})).filter((function(t){return!e.state.filter.petAllowed||t.petAllowed===e.state.filter.petAllowed})).filter((function(t){return!e.state.filter.smokingAllowed||t.smokingAllowed===e.state.filter.smokingAllowed})))})}},{key:"updateDistrict",value:function(e){this.setState({filter:Object(q.a)({},this.state.filter,{district:e.currentTarget.value})},this.updateCards)}},{key:"updateGender",value:function(e){this.setState({filter:Object(q.a)({},this.state.filter,{gender:e.currentTarget.value})},this.updateCards)}},{key:"updateMaxFlatmates",value:function(e){this.setState({filter:Object(q.a)({},this.state.filter,{maxFlatmates:parseInt(e.currentTarget.value)||0})},this.updateCards)}},{key:"updateMaxPrice",value:function(e){this.setState({filter:Object(q.a)({},this.state.filter,{maxPrice:parseInt(e.currentTarget.value)||0})},this.updateCards)}},{key:"updatePetAllowed",value:function(){this.setState({filter:Object(q.a)({},this.state.filter,{petAllowed:!this.state.filter.petAllowed})},this.updateCards)}},{key:"updateSmokingAllowed",value:function(){this.setState({filter:Object(q.a)({},this.state.filter,{smokingAllowed:!this.state.filter.smokingAllowed})},this.updateCards)}},{key:"resetFilters",value:function(){this.setState({filter:{district:null,gender:null,maxFlatmates:null,maxPrice:null,petAllowed:!1,smokingAllowed:!1}})}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,"Find a Room"),l.a.createElement("h3",null,"Only City District filter working"),l.a.createElement(b.a,null,l.a.createElement(b.a.Group,{inline:!0},l.a.createElement(b.a.Field,{label:"City District",control:"select",onChange:this.updateDistrict},l.a.createElement("option",{value:""}),l.a.createElement("option",{value:"Star\xe9 Mesto"},"Star\xe9 Mesto"),l.a.createElement("option",{value:"Ru\u017einov"},"Ru\u017einov"),l.a.createElement("option",{value:"Vraku\u0148a"},"Vraku\u0148a"),l.a.createElement("option",{value:"Podunajsk\xe9 Biskupice"},"Podunajsk\xe9 Biskupice"),l.a.createElement("option",{value:"Nov\xe9 Mesto"},"Nov\xe9 Mesto"),l.a.createElement("option",{value:"Ra\u010da"},"Ra\u010da"),l.a.createElement("option",{value:"Vajnory"},"Vajnory"),l.a.createElement("option",{value:"Karlova Ves"},"Karlova Ves"),l.a.createElement("option",{value:"D\xfabravka"},"D\xfabravka"),l.a.createElement("option",{value:"Lama\u010d"},"Lama\u010d"),l.a.createElement("option",{value:"Dev\xednska Nov\xe1 Ves"},"Dev\xednska Nov\xe1 Ves")),l.a.createElement(b.a.Field,{inline:!0},l.a.createElement("label",null,"Max num of flatmates"),l.a.createElement(P.a,{onChange:this.updateMaxFlatmates,placeholder:"3",value:this.state.filter.maxFlatmates})),l.a.createElement(b.a.Field,{label:"Your gender",control:"select",onChange:this.updateGender},l.a.createElement("option",{value:""}),l.a.createElement("option",{value:"male"},"Male"),l.a.createElement("option",{value:"female"},"Female"),l.a.createElement("option",{value:"couple"},"Couple")),l.a.createElement(b.a.Field,{inline:!0},l.a.createElement("label",null,"Max price"),l.a.createElement(P.a,{onChange:this.updateMaxPrice,placeholder:"350 EUR",value:this.state.filter.maxPrice})),l.a.createElement(b.a.Field,{label:"Pet Allowed",control:"input",type:"checkbox",checked:this.state.filter.petAllowed,onChange:this.updatePetAllowed}),l.a.createElement(b.a.Field,{label:"Smoking Allowed",control:"input",type:"checkbox",checked:this.state.filter.smokingAllowed,onChange:this.updateSmokingAllowed}),l.a.createElement(g.a,{onClick:this.resetFilters},"Reset filters"))),l.a.createElement(F,{cards:this.state.filteredCards}))}}]),t}(n.PureComponent)),oe=(a(613),function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,"Your new room just a click away"),l.a.createElement("h3",null,"With us you can find the right flatmate or the ideal room for you"),l.a.createElement("div",{className:"grid"},l.a.createElement("div",{className:"menu-option"},l.a.createElement("h4",{className:"menu-option-heading"},"RENT OUT A ROOM"),l.a.createElement(h.b,{to:"/addFlat"},l.a.createElement("img",{src:a(614),alt:"rent out a room",className:"menu-option-photo"}))),l.a.createElement("div",{className:"menu-option"},l.a.createElement("h4",{className:"menu-option-heading"},"FIND A ROOM"),l.a.createElement(h.b,{to:"/flatList"},l.a.createElement("img",{src:a(615),alt:"find a room",className:"menu-option-photo"})))))}}]),t}(n.PureComponent)),se=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={email:"",password:""},a.handleChange=function(e){return function(t){a.setState(Object(E.a)({},e,t.target.value))}},a.handleSubmit=function(e){var t;return N.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),t={username:a.state.email,email:a.state.email,password:a.state.password},n.next=4,N.a.awrap(Y.registerUser(t));case 4:case"end":return n.stop()}}))},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,"Register"),l.a.createElement($,{handleChange:this.handleChange,handleSubmit:this.handleSubmit}))}}]),t}(n.PureComponent),ie=a(366),ue=a.n(ie);a(616);function me(){document.getElementById("navBar").style.width="0%"}function pe(){document.getElementById("navBar").style.width="100%"}function de(){var e=document.getElementById("h1-menu-tag");e.classList.contains("menu-hidden")?(e.classList.remove("menu-hidden"),e.classList.add("menu")):(e.classList.remove("menu"),e.classList.add("menu-hidden"))}function he(e){return l.a.createElement("div",null,l.a.createElement("header",{className:"menu-layout-header"},l.a.createElement("img",{src:ue.a,alt:"logo",className:"static-logo",onMouseEnter:de,onMouseLeave:de,onClick:pe}),l.a.createElement("h1",{className:"menu-hidden",id:"h1-menu-tag",onClick:pe},"Menu"),l.a.createElement(V,{closeNav:me})),e.children)}var fe=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement(h.a,null,l.a.createElement(he,null,l.a.createElement(f.d,null,l.a.createElement(f.b,{exact:!0,path:"/about",component:v}),l.a.createElement(f.b,{exact:!0,path:"/register",component:se}),l.a.createElement(f.b,{exact:!0,path:"/addFlat",component:ee}),l.a.createElement(f.b,{exact:!0,path:"/flatList",component:ce}),l.a.createElement(f.b,{exact:!0,path:"/",component:oe}),l.a.createElement(f.b,{path:"/cards/:cardId",component:le}))))}}]),t}(n.PureComponent),ve=a(367),Ee=a.n(ve),be=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.props.isAuthenticated?l.a.createElement(fe,null):l.a.createElement(Ee.a,null)}}]),t}(n.PureComponent);var ge=Object(p.b)((function(e){return{isAuthenticated:Object(d.selectIsAuthenticated)(e)}}))(be),Ce=a(368),ye=a(63),ke=a(369),je=a(370),Oe=Object(ye.c)({authentication:d.default,config:je.default}),we=Object(ye.d)(Oe,Object(ye.a)(ke.a)),Fe=a(118),xe=Object(Fe.b)(we);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement((function(){return l.a.createElement(p.a,{store:we},l.a.createElement(Ce.a,{persistor:xe},l.a.createElement(ge,null)))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[386,1,2]]]);
//# sourceMappingURL=main.c89e07b9.chunk.js.map